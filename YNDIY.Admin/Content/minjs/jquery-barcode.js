!function(a){var b={settings:{barWidth:1,barHeight:50,moduleSize:5,showHRI:!0,addQuietZone:!0,marginHRI:5,bgColor:"#FFFFFF",color:"#000000",fontSize:10,output:"css",posX:0,posY:0},intval:function(a){var b=typeof a;return"string"==b?(a=a.replace(/[^0-9-.]/g,""),a=parseInt(1*a,10),isNaN(a)||!isFinite(a)?0:a):"number"==b&&isFinite(a)?Math.floor(a):0},i25:{encoding:["NNWWN","WNNNW","NWNNW","WWNNN","NNWNW","WNWNN","NWWNN","NNNWW","WNNWN","NWNWN"],compute:function(a,c,d){if(c){"int25"==d&&a.length%2==0&&(a="0"+a);for(var e,f=!0,g=0,h=a.length-1;h>-1;h--){if(e=b.intval(a.charAt(h)),isNaN(e))return"";g+=f?3*e:e,f=!f}a+=((10-g%10)%10).toString()}else a.length%2!=0&&(a="0"+a);return a},getDigit:function(a,b,c){if(a=this.compute(a,b,c),""==a)return"";result="";var d,e;if("int25"==c){result+="1010";var f,g;for(d=0;d<a.length/2;d++)for(f=a.charAt(2*d),g=a.charAt(2*d+1),e=0;e<5;e++)result+="1","W"==this.encoding[f].charAt(e)&&(result+="1"),result+="0","W"==this.encoding[g].charAt(e)&&(result+="0");result+="1101"}else if("std25"==c){result+="11011010";var h;for(d=0;d<a.length;d++)for(h=a.charAt(d),e=0;e<5;e++)result+="1","W"==this.encoding[h].charAt(e)&&(result+="11"),result+="0";result+="11010110"}return result}},ean:{encoding:[["0001101","0100111","1110010"],["0011001","0110011","1100110"],["0010011","0011011","1101100"],["0111101","0100001","1000010"],["0100011","0011101","1011100"],["0110001","0111001","1001110"],["0101111","0000101","1010000"],["0111011","0010001","1000100"],["0110111","0001001","1001000"],["0001011","0010111","1110100"]],first:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],getDigit:function(a,c){var d="ean8"==c?7:12;if(a=a.substring(0,d),a.length!=d)return"";for(var e,f=0;f<a.length;f++)if(e=a.charAt(f),e<"0"||e>"9")return"";a=this.compute(a,c);var g="101";if("ean8"==c){for(var f=0;f<4;f++)g+=this.encoding[b.intval(a.charAt(f))][0];g+="01010";for(var f=4;f<8;f++)g+=this.encoding[b.intval(a.charAt(f))][2]}else{for(var h=this.first[b.intval(a.charAt(0))],f=1;f<7;f++)g+=this.encoding[b.intval(a.charAt(f))][b.intval(h.charAt(f-1))];g+="01010";for(var f=7;f<13;f++)g+=this.encoding[b.intval(a.charAt(f))][2]}return g+="101"},compute:function(a,c){var d="ean13"==c?12:7;a=a.substring(0,d);var e=0,f=!0;for(i=a.length-1;i>-1;i--)e+=(f?3:1)*b.intval(a.charAt(i)),f=!f;return a+((10-e%10)%10).toString()}},msi:{encoding:["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],compute:function(a,b){return"object"==typeof b?("mod10"==b.crc1?a=this.computeMod10(a):"mod11"==b.crc1&&(a=this.computeMod11(a)),"mod10"==b.crc2?a=this.computeMod10(a):"mod11"==b.crc2&&(a=this.computeMod11(a))):"boolean"==typeof b&&b&&(a=this.computeMod10(a)),a},computeMod10:function(a){var c,d=a.length%2,e=0,f=0;for(c=0;c<a.length;c++)d?e=10*e+b.intval(a.charAt(c)):f+=b.intval(a.charAt(c)),d=!d;var g=(2*e).toString();for(c=0;c<g.length;c++)f+=b.intval(g.charAt(c));return a+((10-f%10)%10).toString()},computeMod11:function(a){for(var c=0,d=2,e=a.length-1;e>=0;e--)c+=d*b.intval(a.charAt(e)),d=7==d?2:d+1;return a+((11-c%11)%11).toString()},getDigit:function(a,b){var c="0123456789",d=0,e="";for(a=this.compute(a,!1),e="110",i=0;i<a.length;i++){if(d=c.indexOf(a.charAt(i)),d<0)return"";e+=this.encoding[d]}return e+="1001"}},code11:{encoding:["101011","1101011","1001011","1100101","1011011","1101101","1001101","1010011","1101001","110101","101101"],getDigit:function(a){var b,c,d="0123456789-",e="",f="0";for(e="1011001"+f,b=0;b<a.length;b++){if(c=d.indexOf(a.charAt(b)),c<0)return"";e+=this.encoding[c]+f}var g=0,h=0,i=1,j=0;for(b=a.length-1;b>=0;b--)g=10==g?1:g+1,i=10==i?1:i+1,c=d.indexOf(a.charAt(b)),h+=g*c,j+=i*c;var k=h%11;j+=k;var l=j%11;return e+=this.encoding[k]+f,a.length>=10&&(e+=this.encoding[l]+f),e+="1011001"}},code39:{encoding:["101001101101","110100101011","101100101011","110110010101","101001101011","110100110101","101100110101","101001011011","110100101101","101100101101","110101001011","101101001011","110110100101","101011001011","110101100101","101101100101","101010011011","110101001101","101101001101","101011001101","110101010011","101101010011","110110101001","101011010011","110101101001","101101101001","101010110011","110101011001","101101011001","101011011001","110010101011","100110101011","110011010101","100101101011","110010110101","100110110101","100101011011","110010101101","100110101101","100100100101","100100101001","100101001001","101001001001","100101101101"],getDigit:function(a){var b,c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",e="",f="0";if(a.indexOf("*")>=0)return"";for(a=("*"+a+"*").toUpperCase(),b=0;b<a.length;b++){if(c=d.indexOf(a.charAt(b)),c<0)return"";b>0&&(e+=f),e+=this.encoding[c]}return e}},code93:{encoding:["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],getDigit:function(a,b){var c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%____*",e="";if(a.indexOf("*")>=0)return"";for(a=a.toUpperCase(),e+=this.encoding[47],i=0;i<a.length;i++){if(c=a.charAt(i),index=d.indexOf(c),"_"==c||index<0)return"";e+=this.encoding[index]}if(b){var f=0,g=0,h=1,j=0;for(i=a.length-1;i>=0;i--)f=20==f?1:f+1,h=15==h?1:h+1,index=d.indexOf(a.charAt(i)),g+=f*index,j+=h*index;var c=g%47;j+=c;var k=j%47;e+=this.encoding[c],e+=this.encoding[k]}return e+=this.encoding[47],e+="1"}},code128:{encoding:["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","11000111010"],getDigit:function(a){var c=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",d="",e=0,f=0,g=0,h=0,i=0;for(g=0;g<a.length;g++)if(c.indexOf(a.charAt(g))==-1)return"";var j=a.length>1,k="";for(g=0;g<3&&g<a.length;g++)k=a.charAt(g),j&=k>="0"&&k<="9";for(e=j?105:104,d=this.encoding[e],g=0;g<a.length;){if(j)(g==a.length||a.charAt(g)<"0"||a.charAt(g)>"9"||a.charAt(g+1)<"0"||a.charAt(g+1)>"9")&&(j=!1,d+=this.encoding[100],e+=100*++f);else{for(h=0;g+h<a.length&&a.charAt(g+h)>="0"&&a.charAt(g+h)<="9";)h++;j=h>5||g+h-1==a.length&&h>3,j&&(d+=this.encoding[99],e+=99*++f)}j?(i=b.intval(a.charAt(g)+a.charAt(g+1)),g+=2):(i=c.indexOf(a.charAt(g)),g+=1),d+=this.encoding[i],e+=++f*i}return d+=this.encoding[e%103],d+=this.encoding[106],d+="11"}},codabar:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],getDigit:function(a){var b,c,d="0123456789-$:/.+",e="",f="0";for(e+=this.encoding[16]+f,b=0;b<a.length;b++){if(c=d.indexOf(a.charAt(b)),c<0)return"";e+=this.encoding[c]+f}return e+=this.encoding[16]}},datamatrix:{encoding:["101010011","101011001","101001011","110010101","101101001","110101001","100101011","100101101","100110101","110100101","101001101","101100101","1101011011","1101101011","1101101101","1011011011","1011001001","1010010011","1001001011","1010011001"],lengthRows:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,8,8,12,12,16,16],lengthCols:[10,12,14,16,18,20,22,24,26,32,36,40,44,48,52,64,72,80,88,96,104,120,132,144,18,32,26,36,36,48],mappingRows:[8,10,12,14,16,18,20,22,24,28,32,36,40,44,48,56,64,72,80,88,96,108,120,132,6,6,10,10,14,14],mappingCols:[8,10,12,14,16,18,20,22,24,28,32,36,40,44,48,56,64,72,80,88,96,108,120,132,16,28,24,32,32,44],dataCWCount:[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558,5,10,16,22,32,49],solomonCWCount:[5,7,10,12,14,18,20,24,28,36,42,48,56,68,84,112,144,192,224,272,336,408,496,620,7,11,14,18,24,28],dataRegionRows:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,6,6,10,10,14,14],dataRegionCols:[8,10,12,14,16,18,20,22,24,14,16,18,20,22,24,14,16,18,20,22,24,18,20,22,16,14,24,16,16,22],regionRows:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,1,1,1,1,1],regionCols:[1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,4,4,4,4,4,4,6,6,6,1,2,1,2,2,2],interleavedBlocks:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,4,4,4,6,6,8,8,1,1,1,1,1,1],logTab:[-255,255,1,240,2,225,241,53,3,38,226,133,242,43,54,210,4,195,39,114,227,106,134,28,243,140,44,23,55,118,211,234,5,219,196,96,40,222,115,103,228,78,107,125,135,8,29,162,244,186,141,180,45,99,24,49,56,13,119,153,212,199,235,91,6,76,220,217,197,11,97,184,41,36,223,253,116,138,104,193,229,86,79,171,108,165,126,145,136,34,9,74,30,32,163,84,245,173,187,204,142,81,181,190,46,88,100,159,25,231,50,207,57,147,14,67,120,128,154,248,213,167,200,63,236,110,92,176,7,161,77,124,221,102,218,95,198,90,12,152,98,48,185,179,42,209,37,132,224,52,254,239,117,233,139,22,105,27,194,113,230,206,87,158,80,189,172,203,109,175,166,62,127,247,146,66,137,192,35,252,10,183,75,216,31,83,33,73,164,144,85,170,246,65,174,61,188,202,205,157,143,169,82,72,182,215,191,251,47,178,89,151,101,94,160,123,26,112,232,21,51,238,208,131,58,69,148,18,15,16,68,17,121,149,129,19,155,59,249,70,214,250,168,71,201,156,64,60,237,130,111,20,93,122,177,150],aLogTab:[1,2,4,8,16,32,64,128,45,90,180,69,138,57,114,228,229,231,227,235,251,219,155,27,54,108,216,157,23,46,92,184,93,186,89,178,73,146,9,18,36,72,144,13,26,52,104,208,141,55,110,220,149,7,14,28,56,112,224,237,247,195,171,123,246,193,175,115,230,225,239,243,203,187,91,182,65,130,41,82,164,101,202,185,95,190,81,162,105,210,137,63,126,252,213,135,35,70,140,53,106,212,133,39,78,156,21,42,84,168,125,250,217,159,19,38,76,152,29,58,116,232,253,215,131,43,86,172,117,234,249,223,147,11,22,44,88,176,77,154,25,50,100,200,189,87,174,113,226,233,255,211,139,59,118,236,245,199,163,107,214,129,47,94,188,85,170,121,242,201,191,83,166,97,194,169,127,254,209,143,51,102,204,181,71,142,49,98,196,165,103,206,177,79,158,17,34,68,136,61,122,244,197,167,99,198,161,111,222,145,15,30,60,120,240,205,183,67,134,33,66,132,37,74,148,5,10,20,40,80,160,109,218,153,31,62,124,248,221,151,3,6,12,24,48,96,192,173,119,238,241,207,179,75,150,1],champGaloisMult:function(a,b){return a&&b?this.aLogTab[(this.logTab[a]+this.logTab[b])%255]:0},champGaloisDoub:function(a,b){return a?b?this.aLogTab[(this.logTab[a]+b)%255]:a:0},champGaloisSum:function(a,b){return a^b},selectIndex:function(a,b){if((a<1||a>1558)&&!b)return-1;if((a<1||a>49)&&b)return-1;var c=0;for(b&&(c=24);this.dataCWCount[c]<a;)c++;return c},encodeDataCodeWordsASCII:function(a){var b,c,d=new Array,e=0;for(b=0;b<a.length;b++)c=a.charCodeAt(b),c>127?(d[e]=235,c-=127,e++):c>=48&&c<=57&&b+1<a.length&&a.charCodeAt(b+1)>=48&&a.charCodeAt(b+1)<=57?(c=10*(c-48)+(a.charCodeAt(b+1)-48),c+=130,b++):c++,d[e]=c,e++;return d},addPadCW:function(a,b,c){if(!(b>=c)){a[b]=129;var d,e;for(e=b+1;e<c;e++)d=149*(e+1)%253+1,a[e]=(129+d)%254}},calculSolFactorTable:function(a){var b,c,d=new Array;for(b=0;b<=a;b++)d[b]=1;for(b=1;b<=a;b++)for(c=b-1;c>=0;c--)d[c]=this.champGaloisDoub(d[c],b),c>0&&(d[c]=this.champGaloisSum(d[c],d[c-1]));return d},addReedSolomonCW:function(a,b,c,d,e){var f,g,h,i=0,j=a/e,k=new Array;for(h=0;h<e;h++){for(f=0;f<j;f++)k[f]=0;for(f=h;f<c;f+=e)for(i=this.champGaloisSum(d[f],k[j-1]),g=j-1;g>=0;g--)i?k[g]=this.champGaloisMult(i,b[g]):k[g]=0,g>0&&(k[g]=this.champGaloisSum(k[g-1],k[g]));for(g=c+h,f=j-1;f>=0;f--)d[g]=k[f],g+=e}return d},getBits:function(a){for(var b=new Array,c=0;c<8;c++)b[c]=a&128>>c?1:0;return b},next:function(a,b,c,d,e,f){var g=0,h=4,i=0;do{h==b&&0==i?(this.patternShapeSpecial1(e,f,d[g],b,c),g++):a<3&&h==b-2&&0==i&&c%4!=0?(this.patternShapeSpecial2(e,f,d[g],b,c),g++):h==b-2&&0==i&&c%8==4?(this.patternShapeSpecial3(e,f,d[g],b,c),g++):h==b+4&&2==i&&c%8==0&&(this.patternShapeSpecial4(e,f,d[g],b,c),g++);do h<b&&i>=0&&1!=f[h][i]&&(this.patternShapeStandard(e,f,d[g],h,i,b,c),g++),h-=2,i+=2;while(h>=0&&i<c);h+=1,i+=3;do h>=0&&i<c&&1!=f[h][i]&&(this.patternShapeStandard(e,f,d[g],h,i,b,c),g++),h+=2,i-=2;while(h<b&&i>=0);h+=3,i+=1}while(h<b||i<c)},patternShapeStandard:function(a,b,c,d,e,f,g){this.placeBitInDatamatrix(a,b,c[0],d-2,e-2,f,g),this.placeBitInDatamatrix(a,b,c[1],d-2,e-1,f,g),this.placeBitInDatamatrix(a,b,c[2],d-1,e-2,f,g),this.placeBitInDatamatrix(a,b,c[3],d-1,e-1,f,g),this.placeBitInDatamatrix(a,b,c[4],d-1,e,f,g),this.placeBitInDatamatrix(a,b,c[5],d,e-2,f,g),this.placeBitInDatamatrix(a,b,c[6],d,e-1,f,g),this.placeBitInDatamatrix(a,b,c[7],d,e,f,g)},patternShapeSpecial1:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-1,1,d,e),this.placeBitInDatamatrix(a,b,c[2],d-1,2,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[5],1,e-1,d,e),this.placeBitInDatamatrix(a,b,c[6],2,e-1,d,e),this.placeBitInDatamatrix(a,b,c[7],3,e-1,d,e)},patternShapeSpecial2:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-3,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-2,0,d,e),this.placeBitInDatamatrix(a,b,c[2],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-4,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-3,d,e),this.placeBitInDatamatrix(a,b,c[5],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[6],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[7],1,e-1,d,e)},patternShapeSpecial3:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-3,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-2,0,d,e),this.placeBitInDatamatrix(a,b,c[2],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[5],1,e-1,d,e),this.placeBitInDatamatrix(a,b,c[6],2,e-1,d,e),this.placeBitInDatamatrix(a,b,c[7],3,e-1,d,e)},patternShapeSpecial4:function(a,b,c,d,e){this.placeBitInDatamatrix(a,b,c[0],d-1,0,d,e),this.placeBitInDatamatrix(a,b,c[1],d-1,e-1,d,e),this.placeBitInDatamatrix(a,b,c[2],0,e-3,d,e),this.placeBitInDatamatrix(a,b,c[3],0,e-2,d,e),this.placeBitInDatamatrix(a,b,c[4],0,e-1,d,e),this.placeBitInDatamatrix(a,b,c[5],1,e-3,d,e),this.placeBitInDatamatrix(a,b,c[6],1,e-2,d,e),this.placeBitInDatamatrix(a,b,c[7],1,e-1,d,e)},placeBitInDatamatrix:function(a,b,c,d,e,f,g){d<0&&(d+=f,e+=4-(f+4)%8),e<0&&(e+=g,d+=4-(g+4)%8),1!=b[d][e]&&(a[d][e]=c,b[d][e]=1)},addFinderPattern:function(a,b,c,d,e){var f=(d+2)*b,g=(e+2)*c,h=new Array;h[0]=new Array;for(var i=0;i<g+2;i++)h[0][i]=0;for(var j=0;j<f;j++){h[j+1]=new Array,h[j+1][0]=0,h[j+1][g+1]=0;for(var i=0;i<g;i++)j%(d+2)==0?i%2==0?h[j+1][i+1]=1:h[j+1][i+1]=0:j%(d+2)==d+1?h[j+1][i+1]=1:i%(e+2)==e+1?j%2==0?h[j+1][i+1]=0:h[j+1][i+1]=1:i%(e+2)==0?h[j+1][i+1]=1:(h[j+1][i+1]=0,h[j+1][i+1]=a[j-1-2*parseInt(j/(d+2))][i-1-2*parseInt(i/(e+2))])}h[f+1]=new Array;for(var i=0;i<g+2;i++)h[f+1][i]=0;return h},getDigit:function(a,b){var c=this.encodeDataCodeWordsASCII(a),d=c.length,e=this.selectIndex(d,b),f=this.dataCWCount[e],g=this.solomonCWCount[e],h=f+g,i=this.lengthRows[e],j=this.lengthCols[e],k=this.regionRows[e],l=this.regionCols[e],m=this.dataRegionRows[e],n=this.dataRegionCols[e],o=i-2*k,p=j-2*l,q=this.interleavedBlocks[e],r=g/q;this.addPadCW(c,d,f);var s=this.calculSolFactorTable(r);this.addReedSolomonCW(g,s,f,c,q);for(var t=new Array,u=0;u<h;u++)t[u]=this.getBits(c[u]);for(var v=new Array,w=new Array,u=0;u<p;u++)v[u]=new Array,w[u]=new Array;return o*p%8==4&&(v[o-2][p-2]=1,v[o-1][p-1]=1,v[o-1][p-2]=0,v[o-2][p-1]=0,w[o-2][p-2]=1,w[o-1][p-1]=1,w[o-1][p-2]=1,w[o-2][p-1]=1),this.next(0,o,p,t,v,w),v=this.addFinderPattern(v,k,l,m,n)}},lec:{cInt:function(a,b){for(var c="",d=0;d<b;d++)c+=String.fromCharCode(255&a),a>>=8;return c},cRgb:function(a,b,c){return String.fromCharCode(c)+String.fromCharCode(b)+String.fromCharCode(a)},cHexColor:function(a){var b=parseInt("0x"+a.substr(1)),c=255&b;b>>=8;var d=255&b,e=b>>8;return this.cRgb(e,d,c)}},hexToRGB:function(a){var b=parseInt("0x"+a.substr(1)),c=255&b;b>>=8;var d=255&b,e=b>>8;return{r:e,g:d,b:c}},isHexColor:function(a){var b=new RegExp("#[0-91-F]","gi");return a.match(b)},base64Encode:function(a){for(var b,c,d,e,f,g,h,i="",j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0;k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i+=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h);return i},bitStringTo2DArray:function(a){var b=[];b[0]=[];for(var c=0;c<a.length;c++)b[0][c]=a.charAt(c);return b},resize:function(a,b){return a.css("padding","0px").css("overflow","auto").css("width",b+"px").html(""),a},digitToBmpRenderer:function(a,b,c,d,e,f){var g=c.length,h=c[0].length,i=0,j=this.isHexColor(b.bgColor)?this.lec.cHexColor(b.bgColor):this.lec.cRgb(255,255,255),k=this.isHexColor(b.color)?this.lec.cHexColor(b.color):this.lec.cRgb(0,0,0),l="",m="";for(i=0;i<e;i++)l+=j,m+=k;var n=(4-e*h*3%4)%4,o=(e*h+n)*f*g,p="";for(i=0;i<n;i++)p+="\0";for(var q="BM"+this.lec.cInt(54+o,4)+"\0\0\0\0"+this.lec.cInt(54,4)+this.lec.cInt(40,4)+this.lec.cInt(e*h,4)+this.lec.cInt(f*g,4)+this.lec.cInt(1,2)+this.lec.cInt(24,2)+"\0\0\0\0"+this.lec.cInt(o,4)+this.lec.cInt(2835,4)+this.lec.cInt(2835,4)+this.lec.cInt(0,4)+this.lec.cInt(0,4),r=g-1;r>=0;r--){for(var s="",t=0;t<h;t++)s+="0"==c[r][t]?l:m;s+=p;for(var u=0;u<f;u++)q+=s}var v=document.createElement("object");v.setAttribute("type","image/bmp"),v.setAttribute("data","data:image/bmp;base64,"+this.base64Encode(q)),this.resize(a,e*h+n).append(v)},digitToBmp:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight);this.digitToBmpRenderer(a,c,this.bitStringTo2DArray(d),e,f,g)},digitToBmp2D:function(a,c,d,e){var f=b.intval(c.moduleSize);this.digitToBmpRenderer(a,c,d,e,f,f)},digitToCssRenderer:function(a,b,c,d,e,f){for(var g,h,i=c.length,j=c[0].length,k="",l='<div style="float: left; font-size: 0px; background-color: '+b.bgColor+"; height: "+f+'px; width: &Wpx"></div>',m='<div style="float: left; font-size: 0px; width:0; border-left: &Wpx solid '+b.color+"; height: "+f+'px;"></div>',n=0;n<i;n++){g=0,h=c[n][0];for(var o=0;o<j;o++)h==c[n][o]?g++:(k+=("0"==h?l:m).replace("&W",g*e),h=c[n][o],g=1);g>0&&(k+=("0"==h?l:m).replace("&W",g*e))}b.showHRI&&(k+='<div style="clear:both; width: 100%; background-color: '+b.bgColor+"; color: "+b.color+"; text-align: center; font-size: "+b.fontSize+"px; margin-top: "+b.marginHRI+'px;">'+d+"</div>"),this.resize(a,e*j).html(k)},digitToCss:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight);this.digitToCssRenderer(a,c,this.bitStringTo2DArray(d),e,f,g)},digitToCss2D:function(a,c,d,e){var f=b.intval(c.moduleSize);this.digitToCssRenderer(a,c,d,e,f,f)},digitToSvgRenderer:function(a,c,d,e,f,g){var h=d.length,i=d[0].length,j=f*i,k=g*h;if(c.showHRI){var l=b.intval(c.fontSize);k+=b.intval(c.marginHRI)+l}var m='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+j+'" height="'+k+'">';m+='<rect width="'+j+'" height="'+k+'" x="0" y="0" fill="'+c.bgColor+'" />';for(var n,o,p='<rect width="&W" height="'+g+'" x="&X" y="&Y" fill="'+c.color+'" />',q=0;q<h;q++){n=0,o=d[q][0];for(var r=0;r<i;r++)o==d[q][r]?n++:("1"==o&&(m+=p.replace("&W",n*f).replace("&X",(r-n)*f).replace("&Y",q*g)),o=d[q][r],n=1);n>0&&"1"==o&&(m+=p.replace("&W",n*f).replace("&X",(i-n)*f).replace("&Y",q*g))}c.showHRI&&(m+='<g transform="translate('+Math.floor(j/2)+' 0)">',m+='<text y="'+(k-Math.floor(l/2))+'" text-anchor="middle" style="font-family: Arial; font-size: '+l+'px;" fill="'+c.color+'">'+e+"</text>",m+="</g>"),m+="</svg>";var s=document.createElement("object");s.setAttribute("type","image/svg+xml"),s.setAttribute("data","data:image/svg+xml,"+m),this.resize(a,j).append(s)},digitToSvg:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight);this.digitToSvgRenderer(a,c,this.bitStringTo2DArray(d),e,f,g)},digitToSvg2D:function(a,c,d,e){var f=b.intval(c.moduleSize);this.digitToSvgRenderer(a,c,d,e,f,f)},digitToCanvasRenderer:function(a,b,c,d,e,f,g,h){var i=a.get(0);if(i&&i.getContext){var j=c.length,k=c[0].length,l=i.getContext("2d");l.lineWidth=1,l.lineCap="butt",l.fillStyle=b.bgColor,l.fillRect(e,f,k*g,j*h),l.fillStyle=b.color;for(var m=0;m<j;m++){for(var n=0,o=c[m][0],p=0;p<k;p++)o==c[m][p]?n++:("1"==o&&l.fillRect(e+(p-n)*g,f+m*h,g*n,h),o=c[m][p],n=1);n>0&&"1"==o&&l.fillRect(e+(k-n)*g,f+m*h,g*n,h)}if(b.showHRI){var q=l.measureText(d);l.fillText(d,e+Math.floor((k*g-q.width)/2),f+j*h+b.fontSize+b.marginHRI)}}},digitToCanvas:function(a,c,d,e){var f=b.intval(c.barWidth),g=b.intval(c.barHeight),h=b.intval(c.posX),i=b.intval(c.posY);this.digitToCanvasRenderer(a,c,this.bitStringTo2DArray(d),e,h,i,f,g)},digitToCanvas2D:function(a,c,d,e){var f=b.intval(c.moduleSize),g=b.intval(c.posX),h=b.intval(c.posY);this.digitToCanvasRenderer(a,c,d,e,g,h,f,f)}};a.fn.extend({barcode:function(c,d,e){var f="",g="",h="",i=!0,j=!1,k=!1;if("string"==typeof c?h=c:"object"==typeof c&&(h="string"==typeof c.code?c.code:"",i="undefined"==typeof c.crc||c.crc,j="undefined"!=typeof c.rect&&c.rect),""==h)return!1;"undefined"==typeof e&&(e=[]);for(var l in b.settings)void 0==e[l]&&(e[l]=b.settings[l]);switch(d){case"std25":case"int25":f=b.i25.getDigit(h,i,d),g=b.i25.compute(h,i,d);break;case"ean8":case"ean13":f=b.ean.getDigit(h,d),g=b.ean.compute(h,d);break;case"code11":f=b.code11.getDigit(h),g=h;break;case"code39":f=b.code39.getDigit(h),g=h;break;case"code93":f=b.code93.getDigit(h,i),g=h;break;case"code128":f=b.code128.getDigit(h),g=h;break;case"codabar":f=b.codabar.getDigit(h),g=h;break;case"msi":f=b.msi.getDigit(h,i),g=b.msi.compute(h,i);break;case"datamatrix":f=b.datamatrix.getDigit(h,j),g=h,k=!0}if(0==f.length)return a(this);!k&&e.addQuietZone&&(f="0000000000"+f+"0000000000");var m=a(this),n="digitTo"+e.output.charAt(0).toUpperCase()+e.output.substr(1)+(k?"2D":"");return"function"==typeof b[n]&&b[n](m,e,f,g),m}})}(jQuery);