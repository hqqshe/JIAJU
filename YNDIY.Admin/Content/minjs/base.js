define(["jquery"],function($){return{init:function(){window._hide_loading=function(){$("._loading").hide()},window._show_loading=function(){$("._loading").show()},$(".search_input").on("keyup",function(a){13==a.keyCode&&window._load_items&&_load_items(1),$(this).val()&&$(this).next().children(".cross").show()||$(this).next().children(".cross").hide()}).focus(function(){$(this).next().addClass("discover")}).blur(function(){$(this).next().removeClass("discover")}),$(".cross").on("click",function(a){a.stopPropagation(),$(this).parent().prev().val(""),$(this).hide()}),$(".search_btn").on("click",function(){window._load_items&&_load_items(1)}),$(".select_load").on("change",function(){window._load_items&&_load_items(1)}),$("._pop_close").on("click",function(){$(this).parents("._pop_window").eq(0).fadeOut(),$("body").css({"overflow-y":"auto"})}),$("._pop_window").on("click",".cancle",function(){$(this).parents("._pop_window").eq(0).fadeOut()});var special_btn;$("._more_btn ._show_more").live("click",function(){var a=$(this);$("._relative_zindex_1").removeClass("_relative_zindex_1"),a.parents("._relative").addClass("_relative_zindex_1"),$("._more_btn ._more_btns").hide(),special_btn&&special_btn.css("top",0);var b=a.next();return b.show(),!1}),$("html,body").on("click",function(){$("._more_btn ._more_btns").hide(),special_btn&&special_btn.css("top",0),$("._diy_select").hide()}),$("._block_menu").on("click",function(){var a=$(this).parent();a.hasClass("open")||a.addClass("open").siblings().removeClass("open")}),$("._search_filter ._opacity_select").live("change",function(){$(this).prev().find("._select_text").text($(this.options[this.selectedIndex]).text())});var _request_url=document.location.pathname.toLowerCase();$(".child_wrap a").each(function(a,b){if("undefined"!=typeof $(b).attr("links"))for(var c=$(b).attr("links").toLowerCase().split(";"),d=0;d<c.length;d++)if(_request_url==c[d])return $(b).addClass("cur_menu").parents(".menu_item").eq(0).addClass("open"),!1}),$(".back").on("click",function(){window.history.back()}),$(".click_tb,._ajax_container").on("click",".all_cbo",function(){$(this).parents("thead").next().find("input[type=checkbox]").click()}),$(".click_tb,._ajax_container").on("click","tbody input[type=checkbox]",function(){var a=$(this).parents("tr").eq(0);a.toggleClass("plus");var b=$(this).parents("tbody");b.find(".plus").length===b.find('tr input[type="checkbox"]').length?b.prev().find(".all_cbo").attr("checked","true"):b.prev().find(".all_cbo").removeAttr("checked")}),$("._date_page").on("click",function(){var a,b=$("._search_date"),c=b.text().replace(/\s/g,"").replace(/-/g,"/");a=$(this).hasClass("_my_prev")?new Date(new Date(c).valueOf()-864e5):new Date(new Date(c).valueOf()+864e5),c=a.getFullYear()+"-"+(a.getMonth()+1>9?a.getMonth()+1:"0"+(a.getMonth()+1))+"-"+(a.getDate()>9?a.getDate():"0"+a.getDate()),b.text(c),window._load_items&&_load_items(1)}),$(".select_diy").on("click","._select_prev",function(){$("._diy_select").hide();var a=$(this).next();return a&&($(this).next().show(),$("input",a).val("")),!1}),$(".select_diy").on("click","._diy_select",function(){return!1}),$(".select_diy").on("click","._diy_select a",function(){var a=$(this),b=a.text(),c=a.attr("_id"),d=a.parents("._diy_select").eq(0);d.prev().find("._select_text").text(b).attr("_id",c),d.hide()}),$(".select_diy").on("keyup","._diy_select input",function(){var _me=$(this),_diy_select=_me.parents("._diy_select").eq(0),_val=_me.val().replace(/[^0-9a-zA-Z-\+_]/,"");_me.val(_val),""==_val?$("li",_diy_select).show():(eval("var _regex = /"+_val.toLowerCase()+"/"),$("li",_diy_select).each(function(){var a=$(this),b=a.attr("_py");_regex.test(b)?a.show():a.hide()}))})},repainWindow:function(){var a=$("._ajax_container ._list_table").width(),b=$("._search_banner ").width();a=a+30>b?a+54:b+54,$("body,html").width(a),$("._search_banner ").width()},loadHtmlData:function(a,b,c){c||(c="get"),a._rdm=Math.random();var d=$.Deferred();return _show_loading(),$.ajax({type:c,url:b,data:a,dataType:"html",success:function(a){_hide_loading(),d.resolve(a)},error:function(a){_hide_loading(),$.Message({type:"alert",content:"网络异常！"})}}),d.promise()},getCodeData:function(a,b,c){c||(c="get"),a._rdm=Math.random();var d=$.Deferred();return _show_loading(),$.ajax({type:c,url:b,data:a,dataType:"json",success:function(a){_hide_loading(),1==a.code?d.resolve():(d.fail(),$.Message({type:"alert",content:a.message}))},error:function(a){_hide_loading(),$.Message({type:"alert",content:"网络异常！"})}}),d.promise()},getData:function(a,b,c){c||(c="get"),a._rdm=Math.random();var d=$.Deferred();return _show_loading(),$.ajax({type:c,url:b,data:a,dataType:"json",success:function(a){_hide_loading(),1==a.code?d.resolve(a.data):$.Message({type:"alert",content:a.message})},error:function(a){_hide_loading(),$.Message({type:"alert",content:"网络异常！"})}}),d.promise()},getResponsData:function(a,b,c){c||(c="get"),a._rdm=Math.random();var d=$.Deferred();return _show_loading(),$.ajax({type:c,url:b,data:a,dataType:"json",success:function(a){_hide_loading(),1==a.code?d.resolve(a):$.Message({type:"alert",content:a.message})},error:function(a){_hide_loading(),$.Message({type:"alert",content:"网络异常！"})}}),d.promise()}}});